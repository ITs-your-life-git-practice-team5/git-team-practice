<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./login.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="app-container">
      <div class="header"><div class="logo"></div></div>
      <div class="content-container">
        <div class="login-container">
          <div class="login-title-container">
            <h1 class="login-text">로그인</h1>
          </div>
          <form class="login-form">
            <div class="login-input-container">
              <input
                type="text"
                class="login-input-id"
                placeholder="이메일 주소 또는 휴대폰 번호"
              />
              <input
                type="password"
                class="login-input-password"
                placeholder="비밀번호"
              />
            </div>
            <div class="login-button-container">
              <input type="submit" class="login-button" value="로그인" />
              <div>또는</div>
              <input
                type="button"
                class="login-code-button"
                value="로그인 코드 사용하기"
              />
            </div>
          </form>
          <div class="login-footer-container">
            <div>넷플릭스 회원이 아닌가요? 지금 가입하세요.</div>
          </div>
        </div>
      </div>
      <div class="footer-container"></div>
    </div>
    <script>
      const passwordInput = document.querySelector('.login-input-password');
      const errorMessageElement = document.createElement('div');
      errorMessageElement.className = 'error-message';
      errorMessageElement.textContent = '비밀번호는 4~60자 사이여야 합니다.';

      // 비밀번호 입력 필드 다음에 에러 메시지 삽입
      passwordInput.parentNode.insertBefore(
        errorMessageElement,
        passwordInput.nextSibling
      );

      // 입력값 유효성 검사 함수
      function validatePassword() {
        const password = passwordInput.value;

        if (
          password.length > 0 &&
          (password.length < 4 || password.length > 60)
        ) {
          // 유효하지 않은 비밀번호
          passwordInput.classList.add('invalid');
          errorMessageElement.classList.add('show');
          return false;
        } else {
          // 유효한 비밀번호 또는 빈 필드
          passwordInput.classList.remove('invalid');
          errorMessageElement.classList.remove('show');
          return true;
        }
      }

      // 비밀번호 입력 필드에 이벤트 리스너 추가
      passwordInput.addEventListener('input', validatePassword);
      passwordInput.addEventListener('blur', validatePassword);

      // 폼 제출 시 유효성 검사
      document
        .querySelector('.login-form')
        .addEventListener('submit', function (event) {
          if (!validatePassword()) {
            event.preventDefault(); // 유효하지 않은 경우 폼 제출 방지
          }
        });
    </script>
  </body>
</html>
